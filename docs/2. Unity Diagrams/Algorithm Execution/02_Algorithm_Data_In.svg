<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="944px" preserveAspectRatio="none" style="width:493px;height:944px;background:#FFFFFF;" version="1.1" viewBox="0 0 493 944" width="493px" zoomAndPan="magnify"><defs/><g><rect height="26.2969" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="160" x="165.25" y="15"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="150" x="170.25" y="32.9951">ADES Data Stage In</text><ellipse cx="127.5" cy="57.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="233" x="11" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62" x="21" y="108.4355">Prepare a</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="147" x="87" y="108.4355">data stagein Volume</text><path d="M230,154.6523 L230,168.2188 L210,172.2188 L230,176.2188 L230,189.7852 A0,0 0 0 0 230,189.7852 L365,189.7852 A0,0 0 0 0 365,189.7852 L365,164.6523 L355,154.6523 L230,154.6523 A0,0 0 0 0 230,154.6523 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M355,154.6523 L355,164.6523 L365,164.6523 L355,154.6523 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="236" y="171.7192">App Package CWL</text><line style="stroke:#181818;stroke-width:1.0;" x1="230" x2="365" y1="179.7852" y2="179.7852"/><line style="stroke:#181818;stroke-width:1.0;" x1="230" x2="365" y1="181.7852" y2="181.7852"/><rect fill="#F1F1F1" height="61.9063" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="45" y="141.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="64" x="55" y="162.4043">Read all  `</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="64" x="119" y="162.4043">directory</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="6" x="183" y="162.4043">`</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="145" x="55" y="176.373">workflow parameters in</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="25" x="55" y="190.3418">CWL</text><path d="M245.5,283.543 L245.5,297.1094 L225.5,301.1094 L245.5,305.1094 L245.5,318.6758 A0,0 0 0 0 245.5,318.6758 L388.5,318.6758 A0,0 0 0 0 388.5,318.6758 L388.5,293.543 L378.5,283.543 L245.5,283.543 A0,0 0 0 0 245.5,283.543 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M378.5,283.543 L378.5,293.543 L388.5,293.543 L378.5,283.543 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="251.5" y="300.6099">OGC API Processes</text><line style="stroke:#181818;stroke-width:1.0;" x1="245.5" x2="388.5" y1="308.6758" y2="308.6758"/><line style="stroke:#181818;stroke-width:1.0;" x1="245.5" x2="388.5" y1="310.6758" y2="310.6758"/><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="196" x="29.5" y="277.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="135" x="39.5" y="298.2793">Read correseponding</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="37" x="178.5" y="298.2793">input</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="148" x="39.5" y="312.248">in job's Execution Order</text><rect fill="none" height="204.8984" style="stroke:#000000;stroke-width:1.5;" width="386.5" x="13" y="335.0781"/><path d="M195,335.0781 L195,344.375 L185,354.375 L13,354.375 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="16" y="349.0732">Resource Supply Module</text><path d="M242.5,364.375 L242.5,408.207 L222.5,412.207 L242.5,416.207 L242.5,460.0391 A0,0 0 0 0 242.5,460.0391 L389.5,460.0391 A0,0 0 0 0 389.5,460.0391 L389.5,374.375 L379.5,364.375 L242.5,364.375 A0,0 0 0 0 242.5,364.375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M379.5,364.375 L379.5,374.375 L389.5,374.375 L379.5,364.375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="248.5" y="381.4419">Resource Managers</text><line style="stroke:#181818;stroke-width:1.0;" x1="242.5" x2="389.5" y1="389.5078" y2="389.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="242.5" x2="389.5" y1="391.5078" y2="391.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="248.5" y="406.5747">- HTTPS/S3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="248.5" y="421.7075">- Search</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="248.5" y="436.8403">- STAC</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="248.5" y="451.9731">Â </text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="190" x="32.5" y="395.2227"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="170" x="42.5" y="416.3613">Resolve Resource(s) link(s)</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="209" x="23" y="480.0391"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="179" x="33" y="501.1777">Copy or link referenced Data</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="33" y="515.1465">in the</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="149" x="73" y="515.1465">Data Stagein Volume</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="200" x="27.5" y="559.9766"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59" x="37.5" y="581.1152">Generate</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="117" x="100.5" y="581.1152">STAC documents</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="135" x="41.5" y="595.084">for all the copied files</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="56.5" y="223.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="122" x="66.5" y="244.3105">for each parameter</text><polygon fill="#F1F1F1" points="75,627.9141,180,627.9141,192,639.9141,180,651.9141,75,651.9141,63,639.9141,75,627.9141" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="105" x="75" y="643.7222">More Parameters?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="192" y="637.3198">yes</text><path d="M236,685.3008 L236,698.8672 L216,702.8672 L236,706.8672 L236,720.4336 A0,0 0 0 0 236,720.4336 L342,720.4336 A0,0 0 0 0 342,720.4336 L342,695.3008 L332,685.3008 L236,685.3008 A0,0 0 0 0 236,685.3008 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M332,685.3008 L332,695.3008 L342,695.3008 L332,685.3008 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="242" y="702.3677">Catalog JSON</text><line style="stroke:#181818;stroke-width:1.0;" x1="236" x2="342" y1="710.4336" y2="710.4336"/><line style="stroke:#181818;stroke-width:1.0;" x1="236" x2="342" y1="712.4336" y2="712.4336"/><rect fill="#F1F1F1" height="61.9063" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="177" x="39" y="671.9141"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59" x="49" y="693.0527">Generate</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="94" x="112" y="693.0527">STAC Catalog</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="147" x="49" y="707.0215">referencing all previous</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="94" x="49" y="720.9902">collections doc</text><rect fill="#F1F1F1" height="61.9063" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="193" x="31" y="753.8203"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59" x="41" y="774.959">Generate</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="98" x="104" y="774.959">CWL Input file</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="173" x="41" y="788.9277">referencing all physical files</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="134" x="41" y="802.8965">and the Catalog JSON</text><path d="M161.5,825.7266 L161.5,854.4258 L141.5,858.4258 L161.5,862.4258 L161.5,891.125 A0,0 0 0 0 161.5,891.125 L481.5,891.125 A0,0 0 0 0 481.5,891.125 L481.5,835.7266 L471.5,825.7266 L161.5,825.7266 A0,0 0 0 0 161.5,825.7266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M471.5,825.7266 L471.5,835.7266 L481.5,835.7266 L471.5,825.7266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="156" x="167.5" y="842.7935">Data Stagein Volume</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="167.5" y="857.9263">+ input.json (CWL input)</text><line style="stroke:#181818;stroke-width:1.0;" x1="161.5" x2="481.5" y1="865.9922" y2="865.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="161.5" x2="481.5" y1="867.9922" y2="867.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="167.5" y="883.0591">Files and STAC documents organized in folders</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="28" x="113.5" y="841.4414"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="8" x="123.5" y="862.5801">A</text><ellipse cx="127.5" cy="922.125" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="127.5" cy="922.125" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127.5" x2="127.5" y1="67.2969" y2="87.2969"/><polygon fill="#181818" points="123.5,77.2969,127.5,87.2969,131.5,77.2969,127.5,81.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127.5" x2="127.5" y1="121.2656" y2="141.2656"/><polygon fill="#181818" points="123.5,131.2656,127.5,141.2656,131.5,131.2656,127.5,135.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127.5" x2="127.5" y1="429.1914" y2="480.0391"/><polygon fill="#181818" points="123.5,470.0391,127.5,480.0391,131.5,470.0391,127.5,474.0391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127.5" x2="127.5" y1="325.0781" y2="395.2227"/><polygon fill="#181818" points="123.5,385.2227,127.5,395.2227,131.5,385.2227,127.5,389.2227" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127.5" x2="127.5" y1="527.9766" y2="559.9766"/><polygon fill="#181818" points="123.5,549.9766,127.5,559.9766,131.5,549.9766,127.5,553.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127.5" x2="127.5" y1="257.1406" y2="277.1406"/><polygon fill="#181818" points="123.5,267.1406,127.5,277.1406,131.5,267.1406,127.5,271.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="192" x2="411.5" y1="639.9141" y2="639.9141"/><polygon fill="#181818" points="407.5,453.0352,411.5,443.0352,415.5,453.0352,411.5,449.0352" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="411.5" x2="411.5" y1="240.1563" y2="639.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="411.5" x2="198.5" y1="240.1563" y2="240.1563"/><polygon fill="#181818" points="208.5,236.1563,198.5,240.1563,208.5,244.1563,204.5,240.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127.5" x2="127.5" y1="607.9141" y2="627.9141"/><polygon fill="#181818" points="123.5,617.9141,127.5,627.9141,131.5,617.9141,127.5,621.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127.5" x2="127.5" y1="203.1719" y2="223.1719"/><polygon fill="#181818" points="123.5,213.1719,127.5,223.1719,131.5,213.1719,127.5,217.1719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127.5" x2="127.5" y1="651.9141" y2="671.9141"/><polygon fill="#181818" points="123.5,661.9141,127.5,671.9141,131.5,661.9141,127.5,665.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127.5" x2="127.5" y1="733.8203" y2="753.8203"/><polygon fill="#181818" points="123.5,743.8203,127.5,753.8203,131.5,743.8203,127.5,747.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127.5" x2="127.5" y1="815.7266" y2="841.4414"/><polygon fill="#181818" points="123.5,831.4414,127.5,841.4414,131.5,831.4414,127.5,835.4414" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="127.5" x2="127.5" y1="875.4102" y2="911.125"/><polygon fill="#181818" points="123.5,901.125,127.5,911.125,131.5,901.125,127.5,905.125" style="stroke:#181818;stroke-width:1.0;"/><!--MD5=[50700ea741854751fab0fb091425ac3c]
@startuml
title ADES Data Stage In

start
:Prepare a **data stagein Volume**;
:Read all  `**directory**`
workflow parameters in
CWL;
note right
  App Package CWL
  ====
end note

repeat :for each parameter;
  :Read correseponding **input**
  in job's Execution Order;
  note right
    OGC API Processes
    ====
  end note
  partition "Resource Supply Module" {

      :Resolve Resource(s) link(s);
      note right
        Resource Managers
        ====
        - HTTPS/S3
        - Search
        - STAC

      end note
      :Copy or link referenced Data
      in the **Data Stagein Volume**;

  }

  :Generate **STAC documents**
   for all the copied files;

repeat while (More Parameters?) is (yes)
:Generate **STAC Catalog**
referencing all previous
collections doc;
note right
  Catalog JSON
  ====
end note

:Generate **CWL Input file**
referencing all physical files
and the Catalog JSON;

:A;
note right
  **Data Stagein Volume**
  + input.json (CWL input)
  ====
  Files and STAC documents organized in folders
end note


stop


@enduml

PlantUML version 1.2022.3(Tue Mar 29 16:10:57 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>