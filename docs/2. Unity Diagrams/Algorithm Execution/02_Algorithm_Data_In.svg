<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="933px" preserveAspectRatio="none" style="width:493px;height:933px;background:#FFFFFF;" version="1.1" viewBox="0 0 493 933" width="493px" zoomAndPan="magnify"><defs><filter height="300%" id="f5xf1vuk1yszk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="174" x="158.75" y="26.708">ADES Data Stage In</text><ellipse cx="127.5" cy="40.9531" fill="#000000" filter="url(#f5xf1vuk1yszk)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f5xf1vuk1yszk)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="233" x="11" y="70.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62" x="21" y="92.0918">Prepare a</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="147" x="87" y="92.0918">data stagein Volume</text><path d="M230,138.3086 L230,151.875 L210,155.875 L230,159.875 L230,173.4414 A0,0 0 0 0 230,173.4414 L365,173.4414 A0,0 0 0 0 365,173.4414 L365,148.3086 L355,138.3086 L230,138.3086 A0,0 0 0 0 230,138.3086 " fill="#FBFB77" filter="url(#f5xf1vuk1yszk)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M355,138.3086 L355,148.3086 L365,148.3086 L355,138.3086 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="236" y="155.3755">App Package CWL</text><line style="stroke:#A80036;stroke-width:1.0;" x1="230" x2="365" y1="163.4414" y2="163.4414"/><line style="stroke:#A80036;stroke-width:1.0;" x1="230" x2="365" y1="165.4414" y2="165.4414"/><rect fill="#FEFECE" filter="url(#f5xf1vuk1yszk)" height="61.9063" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="165" x="45" y="124.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="64" x="55" y="146.0605">Read all  `</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="64" x="119" y="146.0605">directory</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="6" x="183" y="146.0605">`</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="145" x="55" y="160.0293">workflow parameters in</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="25" x="55" y="173.998">CWL</text><path d="M245.5,267.1992 L245.5,280.7656 L225.5,284.7656 L245.5,288.7656 L245.5,302.332 A0,0 0 0 0 245.5,302.332 L388.5,302.332 A0,0 0 0 0 388.5,302.332 L388.5,277.1992 L378.5,267.1992 L245.5,267.1992 A0,0 0 0 0 245.5,267.1992 " fill="#FBFB77" filter="url(#f5xf1vuk1yszk)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M378.5,267.1992 L378.5,277.1992 L388.5,277.1992 L378.5,267.1992 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="251.5" y="284.2661">OGC API Processes</text><line style="stroke:#A80036;stroke-width:1.0;" x1="245.5" x2="388.5" y1="292.332" y2="292.332"/><line style="stroke:#A80036;stroke-width:1.0;" x1="245.5" x2="388.5" y1="294.332" y2="294.332"/><rect fill="#FEFECE" filter="url(#f5xf1vuk1yszk)" height="47.9375" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="196" x="29.5" y="260.7969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="135" x="39.5" y="281.9355">Read correseponding</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="37" x="178.5" y="281.9355">input</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="148" x="39.5" y="295.9043">in job's Execution Order</text><rect fill="#FFFFFF" filter="url(#f5xf1vuk1yszk)" height="204.8984" style="stroke:#000000;stroke-width:2.0;" width="386.5" x="13" y="318.7344"/><path d="M195,318.7344 L195,328.0313 L185,338.0313 L13,338.0313 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="16" y="332.7295">Resource Supply Module</text><path d="M242.5,348.0313 L242.5,391.8633 L222.5,395.8633 L242.5,399.8633 L242.5,443.6953 A0,0 0 0 0 242.5,443.6953 L389.5,443.6953 A0,0 0 0 0 389.5,443.6953 L389.5,358.0313 L379.5,348.0313 L242.5,348.0313 A0,0 0 0 0 242.5,348.0313 " fill="#FBFB77" filter="url(#f5xf1vuk1yszk)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M379.5,348.0313 L379.5,358.0313 L389.5,358.0313 L379.5,348.0313 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="248.5" y="365.0981">Resource Managers</text><line style="stroke:#A80036;stroke-width:1.0;" x1="242.5" x2="389.5" y1="373.1641" y2="373.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="242.5" x2="389.5" y1="375.1641" y2="375.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="248.5" y="390.231">- HTTPS/S3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="248.5" y="405.3638">- Search</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="248.5" y="420.4966">- STAC</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="252.5" y="435.6294"/><rect fill="#FEFECE" filter="url(#f5xf1vuk1yszk)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="190" x="32.5" y="378.8789"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="170" x="42.5" y="400.0176">Resolve Resource(s) link(s)</text><rect fill="#FEFECE" filter="url(#f5xf1vuk1yszk)" height="47.9375" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="209" x="23" y="463.6953"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="179" x="33" y="484.834">Copy or link referenced Data</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="33" y="498.8027">in the</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="149" x="73" y="498.8027">Data Stagein Volume</text><rect fill="#FEFECE" filter="url(#f5xf1vuk1yszk)" height="47.9375" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="200" x="27.5" y="543.6328"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59" x="37.5" y="564.7715">Generate</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="117" x="100.5" y="564.7715">STAC documents</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="135" x="41.5" y="578.7402">for all the copied files</text><rect fill="#FEFECE" filter="url(#f5xf1vuk1yszk)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="142" x="56.5" y="206.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="122" x="66.5" y="227.9668">for each parameter</text><polygon fill="#FEFECE" filter="url(#f5xf1vuk1yszk)" points="75,611.5703,180,611.5703,192,623.5703,180,635.5703,75,635.5703,63,623.5703,75,611.5703" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="105" x="75" y="627.3784">More Parameters?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="192" y="620.9761">yes</text><path d="M236,668.957 L236,682.5234 L216,686.5234 L236,690.5234 L236,704.0898 A0,0 0 0 0 236,704.0898 L342,704.0898 A0,0 0 0 0 342,704.0898 L342,678.957 L332,668.957 L236,668.957 A0,0 0 0 0 236,668.957 " fill="#FBFB77" filter="url(#f5xf1vuk1yszk)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M332,668.957 L332,678.957 L342,678.957 L332,668.957 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="242" y="686.0239">Catalog JSON</text><line style="stroke:#A80036;stroke-width:1.0;" x1="236" x2="342" y1="694.0898" y2="694.0898"/><line style="stroke:#A80036;stroke-width:1.0;" x1="236" x2="342" y1="696.0898" y2="696.0898"/><rect fill="#FEFECE" filter="url(#f5xf1vuk1yszk)" height="61.9063" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="177" x="39" y="655.5703"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59" x="49" y="676.709">Generate</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="94" x="112" y="676.709">STAC Catalog</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="147" x="49" y="690.6777">referencing all previous</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="94" x="49" y="704.6465">collections doc</text><rect fill="#FEFECE" filter="url(#f5xf1vuk1yszk)" height="61.9063" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="193" x="31" y="737.4766"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59" x="41" y="758.6152">Generate</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="98" x="104" y="758.6152">CWL Input file</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="173" x="41" y="772.584">referencing all physical files</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="134" x="41" y="786.5527">and the Catalog JSON</text><path d="M161.5,809.3828 L161.5,838.082 L141.5,842.082 L161.5,846.082 L161.5,874.7813 A0,0 0 0 0 161.5,874.7813 L481.5,874.7813 A0,0 0 0 0 481.5,874.7813 L481.5,819.3828 L471.5,809.3828 L161.5,809.3828 A0,0 0 0 0 161.5,809.3828 " fill="#FBFB77" filter="url(#f5xf1vuk1yszk)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M471.5,809.3828 L471.5,819.3828 L481.5,819.3828 L471.5,809.3828 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="156" x="167.5" y="826.4497">Data Stagein Volume</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="167.5" y="841.5825">+ input.json (CWL input)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="161.5" x2="481.5" y1="849.6484" y2="849.6484"/><line style="stroke:#A80036;stroke-width:1.0;" x1="161.5" x2="481.5" y1="851.6484" y2="851.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="167.5" y="866.7153">Files and STAC documents organized in folders</text><rect fill="#FEFECE" filter="url(#f5xf1vuk1yszk)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="28" x="113.5" y="825.0977"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="8" x="123.5" y="846.2363">A</text><ellipse cx="127.5" cy="905.7813" fill="#FFFFFF" filter="url(#f5xf1vuk1yszk)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="127.5" cy="905.7813" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="127.5" x2="127.5" y1="50.9531" y2="70.9531"/><polygon fill="#A80036" points="123.5,60.9531,127.5,70.9531,131.5,60.9531,127.5,64.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="127.5" x2="127.5" y1="104.9219" y2="124.9219"/><polygon fill="#A80036" points="123.5,114.9219,127.5,124.9219,131.5,114.9219,127.5,118.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="127.5" x2="127.5" y1="412.8477" y2="463.6953"/><polygon fill="#A80036" points="123.5,453.6953,127.5,463.6953,131.5,453.6953,127.5,457.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="127.5" x2="127.5" y1="308.7344" y2="378.8789"/><polygon fill="#A80036" points="123.5,368.8789,127.5,378.8789,131.5,368.8789,127.5,372.8789" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="127.5" x2="127.5" y1="511.6328" y2="543.6328"/><polygon fill="#A80036" points="123.5,533.6328,127.5,543.6328,131.5,533.6328,127.5,537.6328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="127.5" x2="127.5" y1="240.7969" y2="260.7969"/><polygon fill="#A80036" points="123.5,250.7969,127.5,260.7969,131.5,250.7969,127.5,254.7969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="192" x2="411.5" y1="623.5703" y2="623.5703"/><polygon fill="#A80036" points="407.5,436.6914,411.5,426.6914,415.5,436.6914,411.5,432.6914" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="411.5" x2="411.5" y1="223.8125" y2="623.5703"/><line style="stroke:#A80036;stroke-width:1.5;" x1="411.5" x2="198.5" y1="223.8125" y2="223.8125"/><polygon fill="#A80036" points="208.5,219.8125,198.5,223.8125,208.5,227.8125,204.5,223.8125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="127.5" x2="127.5" y1="591.5703" y2="611.5703"/><polygon fill="#A80036" points="123.5,601.5703,127.5,611.5703,131.5,601.5703,127.5,605.5703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="127.5" x2="127.5" y1="186.8281" y2="206.8281"/><polygon fill="#A80036" points="123.5,196.8281,127.5,206.8281,131.5,196.8281,127.5,200.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="127.5" x2="127.5" y1="635.5703" y2="655.5703"/><polygon fill="#A80036" points="123.5,645.5703,127.5,655.5703,131.5,645.5703,127.5,649.5703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="127.5" x2="127.5" y1="717.4766" y2="737.4766"/><polygon fill="#A80036" points="123.5,727.4766,127.5,737.4766,131.5,727.4766,127.5,731.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="127.5" x2="127.5" y1="799.3828" y2="825.0977"/><polygon fill="#A80036" points="123.5,815.0977,127.5,825.0977,131.5,815.0977,127.5,819.0977" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="127.5" x2="127.5" y1="859.0664" y2="894.7813"/><polygon fill="#A80036" points="123.5,884.7813,127.5,894.7813,131.5,884.7813,127.5,888.7813" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d30ccf41cc3a6f7c81771760b5af9191]
@startuml
title ADES Data Stage In

start
:Prepare a **data stagein Volume**;
:Read all  `**directory**`
workflow parameters in
CWL;
note right
  App Package CWL
  ====
end note

repeat :for each parameter;
  :Read correseponding **input**
  in job's Execution Order;
  note right
    OGC API Processes
    ====
  end note
  partition "Resource Supply Module" {

      :Resolve Resource(s) link(s);
      note right
        Resource Managers
        ====
        - HTTPS/S3
        - Search
        - STAC

      end note
      :Copy or link referenced Data
      in the **Data Stagein Volume**;

  }

  :Generate **STAC documents**
   for all the copied files;

repeat while (More Parameters?) is (yes)
:Generate **STAC Catalog**
referencing all previous
collections doc;
note right
  Catalog JSON
  ====
end note

:Generate **CWL Input file**
referencing all physical files
and the Catalog JSON;

:A;
note right
  **Data Stagein Volume**
  + input.json (CWL input)
  ====
  Files and STAC documents organized in folders
end note


stop


@enduml

PlantUML version 1.2021.12(Tue Oct 05 16:01:58 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>